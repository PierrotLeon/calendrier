:root{--color-primary: #4F46E5;--color-primary-hover: #4338CA;--color-primary-light: #EEF2FF;--color-danger: #E11D48;--color-danger-hover: #BE123C;--color-success: #059669;--color-today-bg: #E0E7FF;--color-hover-bg: #F1F5F9;--color-selected-ring: #6366F1;--color-selected-bg: #EEF2FF;--color-weekend-bg: #FEF9F3;--color-bg: #F8FAFC;--color-surface: #FFFFFF;--color-surface-hover: #F1F5F9;--color-text: #1E293B;--color-text-secondary: #64748B;--color-text-muted: #94A3B8;--color-text-inverse: #FFFFFF;--color-border: #E2E8F0;--color-border-strong: #CBD5E1;--font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;--font-size-xs: .75rem;--font-size-sm: .875rem;--font-size-base: 1rem;--font-size-lg: 1.125rem;--font-size-xl: 1.25rem;--font-size-2xl: 1.5rem;--font-weight-normal: 400;--font-weight-medium: 500;--font-weight-semibold: 600;--font-weight-bold: 700;--space-1: .25rem;--space-2: .5rem;--space-3: .75rem;--space-4: 1rem;--space-5: 1.25rem;--space-6: 1.5rem;--space-8: 2rem;--space-10: 2.5rem;--space-12: 3rem;--radius-sm: .25rem;--radius-md: .5rem;--radius-lg: .75rem;--radius-xl: 1rem;--radius-full: 9999px;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, .1), 0 2px 4px -2px rgba(0, 0, 0, .1);--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, .1), 0 4px 6px -4px rgba(0, 0, 0, .1);--transition-fast: .15s ease;--transition-base: .2s ease;--header-height: 3.5rem;--sidebar-width: 16rem}.app{display:flex;flex-direction:column;height:100vh;background:var(--color-bg);font-family:var(--font-family);color:var(--color-text)}.app__body{display:flex;flex:1;overflow:hidden}.app__main{flex:1;display:flex;flex-direction:column;overflow-x:hidden;overflow-y:auto;padding:var(--space-4)}.header{display:flex;align-items:center;justify-content:space-between;height:var(--header-height);padding:0 var(--space-6);background:var(--color-surface);border-bottom:1px solid var(--color-border);box-shadow:var(--shadow-sm);flex-shrink:0}.header__title{font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);color:var(--color-primary);display:flex;align-items:center;gap:var(--space-2)}.header__nav{display:flex;align-items:center;gap:var(--space-2)}.header__month-year{font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);min-width:12rem;text-align:center}.btn{display:inline-flex;align-items:center;justify-content:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);border:1px solid var(--color-border);border-radius:var(--radius-md);background:var(--color-surface);color:var(--color-text);cursor:pointer;transition:all var(--transition-fast);white-space:nowrap}.btn:hover{background:var(--color-surface-hover);border-color:var(--color-border-strong)}.btn--primary{background:var(--color-primary);color:var(--color-text-inverse);border-color:var(--color-primary)}.btn--primary:hover{background:var(--color-primary-hover);border-color:var(--color-primary-hover)}.btn--danger{background:var(--color-danger);color:var(--color-text-inverse);border-color:var(--color-danger)}.btn--danger:hover{background:var(--color-danger-hover);border-color:var(--color-danger-hover)}.btn--icon{padding:var(--space-2);min-width:2.25rem;min-height:2.25rem}.btn--sm{padding:var(--space-1) var(--space-2);font-size:var(--font-size-xs)}.btn--outline{background:transparent;color:var(--color-primary);border-color:var(--color-primary)}.btn--outline:hover{background:var(--color-primary-light)}.btn--active{background:var(--color-primary-light);color:var(--color-primary);border-color:var(--color-primary)}.view-toggle,.view-toggle__btn{display:none}.header__right{display:flex;align-items:center;gap:var(--space-2);position:relative}.header__menu-toggle{font-size:var(--font-size-xl)}.header-menu{position:absolute;top:100%;right:0;margin-top:var(--space-1);min-width:12rem;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-md);box-shadow:var(--shadow-md);z-index:800;padding:var(--space-2) 0;animation:fadeIn var(--transition-fast)}.header-menu__section{display:flex;flex-direction:column}.header-menu__label{font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.05em;padding:var(--space-1) var(--space-4)}.header-menu__item{display:block;width:100%;text-align:left;padding:var(--space-2) var(--space-4);font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);background:none;border:none;color:var(--color-text);cursor:pointer;transition:background var(--transition-fast)}.header-menu__item:hover{background:var(--color-surface-hover)}.header-menu__item--active{color:var(--color-primary);font-weight:var(--font-weight-semibold);background:var(--color-primary-light)}.header-menu__divider{height:1px;background:var(--color-border);margin:var(--space-1) 0}.swipe-viewport{flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative;touch-action:pan-y}.swipe-track{display:flex;width:200%;flex:1;min-height:0}.swipe-track--idle{width:100%}.swipe-page{width:50%;flex-shrink:0;display:flex;flex-direction:column;min-height:0}.swipe-page--idle{width:100%}.calendar-grid{flex:1;display:flex;flex-direction:column;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden}.calendar-grid__weekdays{display:grid;grid-template-columns:repeat(7,1fr);background:var(--color-surface-hover);border-bottom:1px solid var(--color-border)}.calendar-grid__weekday{padding:var(--space-2) var(--space-1);text-align:center;font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);text-transform:uppercase;letter-spacing:.05em}.calendar-grid__days{display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:1fr;flex:1}.day-cell{position:relative;min-height:0;padding:var(--space-1);border-right:1px solid var(--color-border);border-bottom:1px solid var(--color-border);cursor:pointer;transition:background var(--transition-fast);overflow:hidden}.day-cell:nth-child(7n){border-right:none}.day-cell:hover{background:var(--color-hover-bg)}.day-cell--outside{background:var(--color-surface-hover);opacity:.5}.day-cell--today{background:var(--color-today-bg)}.day-cell--today:hover{background:#d4dbfa}.day-cell--selected,.day-cell--selected:hover{background:var(--color-selected-bg);box-shadow:inset 0 0 0 2px var(--color-selected-ring)}.day-cell--selected.day-cell--today{background:var(--color-today-bg);box-shadow:inset 0 0 0 2px var(--color-selected-ring)}.day-cell__number{display:inline-flex;align-items:center;justify-content:center;width:1.75rem;height:1.75rem;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);border-radius:var(--radius-full);margin-bottom:var(--space-1)}.day-cell--today .day-cell__number{background:var(--color-primary);color:var(--color-text-inverse);font-weight:var(--font-weight-bold)}.day-cell--selected .day-cell__number{outline:2px solid var(--color-selected-ring);outline-offset:1px;font-weight:var(--font-weight-semibold)}.day-cell--selected.day-cell--today .day-cell__number{outline:2px solid var(--color-selected-ring);outline-offset:1px}.day-cell--weekend{background:var(--color-weekend-bg)}.day-cell--weekend:hover{background:#fdf3e7}.day-cell--weekend.day-cell--outside{opacity:.45}.day-cell--weekend.day-cell--today{background:var(--color-today-bg)}.day-cell__holiday{display:block;font-size:.5rem;color:var(--color-danger);font-weight:var(--font-weight-medium);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2}.day-cell__events{display:flex;flex-direction:column;gap:1px}.event-chip{display:flex;align-items:center;gap:2px;padding:1px var(--space-1);font-size:var(--font-size-xs);font-weight:var(--font-weight-medium);color:var(--color-text-inverse);border-radius:var(--radius-sm);white-space:nowrap;overflow:hidden;line-height:1.4;cursor:pointer}.event-chip__title{flex:1;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.event-chip__time{flex-shrink:0;font-size:.65em;opacity:.9}.event-chip--multi{border-radius:0;margin-left:-2px;margin-right:-2px;padding-left:var(--space-2);padding-right:var(--space-2)}.event-chip--start{border-radius:var(--radius-sm) 0 0 var(--radius-sm);margin-left:0}.event-chip--end{border-radius:0 var(--radius-sm) var(--radius-sm) 0;margin-right:0}.event-chip--mid{border-radius:0}.day-cell__more{font-size:var(--font-size-xs);color:var(--color-text-muted);padding-left:var(--space-1)}.sidebar{width:var(--sidebar-width);background:var(--color-surface);border-right:1px solid var(--color-border);padding:var(--space-4);overflow-y:auto;flex-shrink:0}.sidebar__section{margin-bottom:var(--space-6)}.sidebar__heading{font-size:var(--font-size-xs);font-weight:var(--font-weight-semibold);color:var(--color-text-muted);text-transform:uppercase;letter-spacing:.05em;margin-bottom:var(--space-2)}.sidebar__date{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);margin-bottom:var(--space-4)}.event-list{display:flex;flex-direction:column;gap:var(--space-2)}.event-list__empty{font-size:var(--font-size-sm);color:var(--color-text-muted);text-align:center;padding:var(--space-4) 0}.event-card{display:flex;gap:var(--space-2);padding:var(--space-2) var(--space-3);border-radius:var(--radius-md);border:1px solid var(--color-border);cursor:pointer;transition:all var(--transition-fast)}.event-card:hover{border-color:var(--color-border-strong);box-shadow:var(--shadow-sm)}.event-card__color-bar{width:3px;border-radius:var(--radius-full);flex-shrink:0}.event-card__body{flex:1;min-width:0}.event-card__title{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.event-card__time{font-size:var(--font-size-xs);color:var(--color-text-secondary)}.event-card__dates{font-size:var(--font-size-xs);color:var(--color-text-secondary);font-style:italic}.event-card__export{flex-shrink:0;opacity:0;transition:opacity var(--transition-fast)}.event-card:hover .event-card__export{opacity:1}.modal-overlay{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn var(--transition-base)}.modal{background:var(--color-surface);border-radius:var(--radius-xl);box-shadow:var(--shadow-lg);width:100%;max-width:28rem;max-height:90vh;overflow-y:auto;animation:slideUp var(--transition-base)}.modal__header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-4) var(--space-6);border-bottom:1px solid var(--color-border)}.modal__title{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold)}.modal__body{padding:var(--space-4) var(--space-6);display:flex;flex-direction:column;gap:var(--space-4)}.modal__footer{display:flex;justify-content:flex-end;gap:var(--space-2);padding:var(--space-4) var(--space-6);border-top:1px solid var(--color-border)}.form-field{display:flex;flex-direction:column;gap:var(--space-1)}.form-field__label{font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--color-text-secondary)}.form-field__input,.form-field__textarea{padding:var(--space-2) var(--space-3);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm);font-family:var(--font-family);color:var(--color-text);background:var(--color-surface);transition:border-color var(--transition-fast)}.form-field__input:focus,.form-field__textarea:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 3px var(--color-primary-light)}.form-field__textarea{resize:vertical;min-height:4rem}.form-field__row{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-3)}.form-field__error{font-size:var(--font-size-xs);color:var(--color-danger)}.color-picker{display:flex;gap:var(--space-2);flex-wrap:wrap}.color-picker__swatch{width:1.5rem;height:1.5rem;border-radius:var(--radius-full);border:2px solid transparent;cursor:pointer;transition:transform var(--transition-fast)}.color-picker__swatch:hover{transform:scale(1.2)}.color-picker__swatch--selected{border-color:var(--color-text);transform:scale(1.2)}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(1rem)}to{opacity:1;transform:translateY(0)}}@keyframes slideInRight{0%{transform:translate(100%)}to{transform:translate(0)}}.header__left{display:flex;align-items:center;gap:var(--space-2)}.header__sidebar-toggle,.header__settings-btn{font-size:var(--font-size-lg)}.suggestion-banner{display:flex;flex-direction:column;gap:var(--space-2);padding:var(--space-3);background:var(--color-primary-light);border:1px solid var(--color-primary);border-radius:var(--radius-md);animation:fadeIn var(--transition-base)}.suggestion-banner__body{display:flex;align-items:center;gap:var(--space-2);font-size:var(--font-size-sm)}.suggestion-banner__icon{font-size:var(--font-size-lg);flex-shrink:0}.suggestion-banner__text{flex:1}.suggestion-banner__actions{display:flex;gap:var(--space-2);justify-content:flex-end}.settings-overlay{position:fixed;inset:0;background:#0006;z-index:1100;animation:fadeIn var(--transition-base)}.settings-panel{position:fixed;top:0;right:0;bottom:0;width:32rem;max-width:100%;background:var(--color-surface);box-shadow:var(--shadow-lg);display:flex;flex-direction:column;z-index:1101;animation:slideInRight var(--transition-base)}.settings-panel__header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-4) var(--space-6);border-bottom:1px solid var(--color-border);flex-shrink:0}.settings-panel__title{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold)}.settings-panel__desc{padding:var(--space-3) var(--space-6);font-size:var(--font-size-sm);color:var(--color-text-secondary);border-bottom:1px solid var(--color-border)}.settings-panel__body{flex:1;overflow-y:auto;padding:var(--space-4) var(--space-6)}.settings-panel__rules{display:flex;flex-direction:column;gap:var(--space-3)}.settings-panel__footer{display:flex;justify-content:space-between;padding:var(--space-4) var(--space-6);border-top:1px solid var(--color-border);flex-shrink:0}.rule-card{border:1px solid var(--color-border);border-radius:var(--radius-md);overflow:hidden}.rule-card__display{padding:var(--space-3)}.rule-card__header{display:flex;align-items:center;gap:var(--space-2);margin-bottom:var(--space-1)}.rule-card__color-dot{width:.75rem;height:.75rem;border-radius:var(--radius-full);flex-shrink:0}.rule-card__name{font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);flex:1}.rule-card__toggle{display:flex;align-items:center;gap:var(--space-1)}.rule-card__toggle-label{font-size:var(--font-size-xs);color:var(--color-text-muted)}.rule-card__pattern{font-family:monospace;font-size:var(--font-size-xs);color:var(--color-text-secondary);margin-bottom:var(--space-1)}.rule-card__time{font-size:var(--font-size-xs);color:var(--color-text-muted)}.rule-card__actions{display:flex;gap:var(--space-1);margin-top:var(--space-2)}.rule-card__edit{padding:var(--space-3);background:var(--color-surface-hover);display:flex;flex-direction:column;gap:var(--space-2)}.rule-card__edit-row{display:flex;gap:var(--space-2);align-items:center}.rule-card__edit-actions{display:flex;gap:var(--space-2);justify-content:flex-end;margin-top:var(--space-1)}.week-grid{flex:1;display:flex;flex-direction:column;background:var(--color-surface);border:1px solid var(--color-border);border-radius:var(--radius-lg);overflow:hidden}.week-grid__header{display:grid;grid-template-columns:3.5rem repeat(7,1fr);border-bottom:1px solid var(--color-border);background:var(--color-surface-hover);flex-shrink:0}.week-grid__gutter-header{border-bottom:1px solid var(--color-border)}.week-grid__day-header{padding:var(--space-2) var(--space-1);text-align:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-semibold);color:var(--color-text-secondary);cursor:pointer;transition:background var(--transition-fast);border-left:1px solid var(--color-border)}.week-grid__day-header:hover{background:var(--color-hover-bg)}.week-grid__day-header--selected{color:var(--color-primary);background:var(--color-primary-light)}.week-grid__body{display:grid;grid-template-columns:3.5rem repeat(7,1fr);flex:1;overflow-y:auto}.week-grid__gutter{display:flex;flex-direction:column}.week-grid__hour-label{height:2.5rem;display:flex;align-items:flex-start;justify-content:flex-end;padding-right:var(--space-2);font-size:var(--font-size-xs);color:var(--color-text-muted);border-top:1px solid var(--color-border)}.week-grid__column{position:relative;border-left:1px solid var(--color-border);cursor:pointer}.week-grid__hour-slot{height:2.5rem;border-top:1px solid var(--color-border)}.week-grid__hour-slot:nth-child(2n){border-top-style:dotted;border-top-color:var(--color-border)}.week-grid__event{position:absolute;left:2px;right:2px;border-radius:var(--radius-sm);color:var(--color-text-inverse);font-size:var(--font-size-xs);padding:1px var(--space-1);overflow:hidden;z-index:1;display:flex;flex-direction:column;line-height:1.3;cursor:pointer}.week-grid__event-time{font-weight:var(--font-weight-semibold);font-size:.625rem}.week-grid__event-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.color-palette-grid{display:flex;flex-wrap:wrap;gap:var(--space-2);margin-top:var(--space-2)}.color-palette-item{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-1) var(--space-2);border:1px solid var(--color-border);border-radius:var(--radius-md);font-size:var(--font-size-sm)}.color-palette-item__swatch{display:inline-block;width:1.25rem;height:1.25rem;border-radius:var(--radius-full);flex-shrink:0;border:1px solid rgba(0,0,0,.15)}.color-palette-item__label{color:var(--color-text-secondary)}.color-palette-add{margin-top:var(--space-4);padding-top:var(--space-4);border-top:1px solid var(--color-border)}.color-palette-add__row{display:flex;align-items:center;gap:var(--space-2);margin-top:var(--space-2)}.color-palette-add__picker{width:2.5rem;height:2.5rem;border:none;padding:0;cursor:pointer;border-radius:var(--radius-md);flex-shrink:0}.color-palette-add__hex-input{flex:1;min-width:0;max-width:7rem;font-family:monospace;text-transform:uppercase;letter-spacing:.05em}.color-palette-add__preview{display:inline-block;width:1.5rem;height:1.5rem;border-radius:var(--radius-full);border:1px solid var(--color-border);flex-shrink:0}.color-palette-add__hex{font-family:monospace;font-size:var(--font-size-sm);color:var(--color-text-secondary)}.sidebar{position:fixed;top:var(--header-height);left:0;bottom:0;width:80vw;max-width:20rem;z-index:900;transform:translate(-100%);transition:transform var(--transition-base)}.sidebar--open{transform:translate(0)}.sidebar--closed{transform:translate(-100%)}.sidebar-backdrop{display:none}.sidebar--open~.sidebar-backdrop,.sidebar-backdrop{position:fixed;inset:0;top:var(--header-height);background:#0000004d;z-index:899}.sidebar--open+.sidebar-backdrop{display:block}.sidebar-backdrop{display:block}.header{padding:0 var(--space-2);gap:var(--space-1)}.header__title-text{display:none}.header__month-year{font-size:var(--font-size-base);min-width:8rem}.app{overflow:hidden}.app__main{padding:var(--space-1);overflow:hidden}.calendar-grid{display:flex;flex-direction:column;height:100%}.calendar-grid__days{flex:1;display:grid;grid-template-columns:repeat(7,1fr);grid-auto-rows:1fr}.day-cell{min-height:0;padding:1px}.day-cell__number{width:1.2rem;height:1.2rem;font-size:.65rem;margin-bottom:0}.event-chip{font-size:.5rem;padding:0 2px;line-height:1.2}.event-chip__time{font-size:.5rem}.day-cell__holiday{font-size:.35rem;line-height:1}.day-cell__more{font-size:.5rem}.week-grid__header,.week-grid__body{grid-template-columns:2.5rem repeat(7,1fr)}.week-grid__day-header{font-size:var(--font-size-xs);padding:var(--space-1) 1px}.week-grid__hour-label{font-size:.6rem;height:2rem}.week-grid__hour-slot{height:2rem}.modal{max-width:100%;border-radius:var(--radius-lg) var(--radius-lg) 0 0;max-height:95vh}.modal-overlay{align-items:flex-end}.settings-panel{width:100%;max-width:100%}@media(min-width:414px){.header__month-year{font-size:var(--font-size-lg);min-width:10rem}.day-cell{min-height:0;padding:2px}.day-cell__number{width:1.4rem;height:1.4rem;font-size:var(--font-size-xs)}.event-chip{font-size:.6rem}.event-chip__time{font-size:.55rem}.day-cell__holiday{font-size:.4rem}}@media(min-width:768px){.sidebar{width:18rem}.header{padding:0 var(--space-4)}.header__title-text{display:inline}.app__main{padding:var(--space-2)}.day-cell{min-height:0;padding:var(--space-1)}.day-cell__number{width:1.5rem;height:1.5rem;font-size:var(--font-size-sm)}.event-chip,.day-cell__holiday{font-size:var(--font-size-xs)}.modal-overlay{align-items:center}.modal{max-width:28rem;border-radius:var(--radius-xl)}.settings-panel{width:28rem;max-width:28rem}}@media(min-width:1024px){.sidebar{position:static;transform:none;width:var(--sidebar-width);z-index:auto}.sidebar--open,.sidebar--closed{transform:none}.sidebar-backdrop{display:none!important}.header__sidebar-toggle{display:none}.header{padding:0 var(--space-6)}.header__title-text{display:inline}.app__main{padding:var(--space-4);overflow:auto}.day-cell{min-height:5.5rem;padding:var(--space-1)}.day-cell__number{width:1.75rem;height:1.75rem;font-size:var(--font-size-sm)}.settings-panel{width:32rem;max-width:32rem}}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body{font-family:var(--font-family);color:var(--color-text);background:var(--color-bg);line-height:1.5}button,input,textarea,select{font-family:inherit}
